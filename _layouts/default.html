<!DOCTYPE html>
<html>
  <head>
    <link href="https://fonts.googleapis.com/css?family=Amiri:400,400i,700" rel="stylesheet">
    <title>{% if page.title %}{{ page.title }} – {% endif %}{{ site.name }} – {{ site.description }}</title>

    {% include meta.html %}

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/style.css" />
    <link rel="alternate" type="application/rss+xml" title="{{ site.name }} - {{ site.description }}" href="{{ site.baseurl }}/feed.xml" />
  </head>

  <body>
    <a href="{{ site.baseurl }}/" class="c-masthead__avatar"><img src="{{ site.avatar }}" /></a>

    <div class="c-masthead--wrapper">
      <header class="c-masthead clearfix">

        <div class="c-site-info">

          <h1 class="c-site-info__name"><a href="{{ site.baseurl }}/">{{ site.name }}</a></h1>

          <svg class="c-site-info__search-button" xmlns="http://www.w3.org/2000/svg" width="67" height="67" viewBox="0 0 67 67"><path fill-rule="evenodd" d="M49.96 45.73c-2.95-2.57-5.9-5.14-8.87-7.68-.5-.4-.6-.67-.3-1.25 1.22-2.44 1.6-5.04 1.14-7.74-1.06-6.46-7.06-11.23-13.4-10.68-7 .6-12.05 6-12.04 12.82.03 4.8 2.63 9.17 6.9 11.3 4.56 2.28 9 1.95 13.24-.86.56-.38.84-.33 1.3.1l9 7.8c.95.8 2 .85 2.87.18 1.5-1.15 1.57-2.76.14-4zm-20.5-5.22c-5.2 0-9.34-4.2-9.3-9.4.03-5.14 4.22-9.27 9.4-9.24 5.16.02 9.3 4.18 9.28 9.35 0 5.2-4.2 9.36-9.4 9.34z" clip-rule="evenodd"/></svg>

          <div class="c-site-search">
            <form class="c-site-search__form" role="search" method="post" action="/search/">
              <script>
                (function() {
                  var cx = '002137092263056971046:1pa77qx9aka';
                  var gcse = document.createElement('script');
                  gcse.type = 'text/javascript';
                  gcse.async = true;
                  gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                  var s = document.getElementsByTagName('script')[0];
                  s.parentNode.insertBefore(gcse, s);
                })();
              </script>
              <gcse:search></gcse:search>
            </form>
          </div>

        </div>

        <nav class="c-masthead__nav">
          <a href="{{ site.baseurl }}/writing">Writing</a>
          <a href="{{ site.baseurl }}/design">Design</a>
          <a href="{{ site.baseurl }}/about">About Me</a>
        </nav>
      </header>
    </div>

    <div class="wrapper-sidebar">
        <aside class="c-sidebar">
          <ul class="c-sidebar__recent-posts-list">
            {% for post in site.posts limit:5 %}
            <li class="c-sidebar__recent-post">
              <a href="{{ post.url }}" class="c-sidebar__recent-post-title">
                {{ post.title }}
              </a>
            </li>
            {% endfor %}
          </ul>
        </aside>
    </div>

    <div id="main" role="main" class="container">
      {{ content }}
    </div>

    <div class="wrapper-footer">
        <footer class="footer">
          <h3>&copy; Ian Maleney</h3>
          <div class="c-footer__svg-icons">
            {% include svg-icons.html %}
          </div>
        </footer>
    </div>

    {% include analytics.html %}
    <script defer>

      document.addEventListener("DOMContentLoaded", function() {
        setTimeout(function() {
          var searchbar = document.querySelector("#gsc-i-id1");
          var searchButton = document.querySelector("input.gsc-search-button");
          var searchToggle = document.querySelector(".c-site-info__search-button");
          var siteSearch = document.querySelector(".c-site-search");
          searchbar.placeholder = "Search...";
          searchButton.type = "Submit";
          searchToggle.addEventListener("click", function() {
            siteSearch.classList.toggle("c-site-search--visible");
          });

        }, 1000);
      });
    </script>
  </body>
</html>
